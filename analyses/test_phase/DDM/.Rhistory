datapath="C:\\Users\\haozi\\Desktop\\PhD\\fMRI_PrC-PPC_data\\hddm\\"
library(readxl)
prc.data=read_excel(paste(datapath,"PrC\\hddm_data_prc.csv"))
prc.data=read_excel(paste(datapath,"PrC\\hddm_data_prc.csv",sep=""))
prc.data=read.csv(paste(datapath,"PrC\\hddm_data_prc.csv",sep=""))
View(prc.data)
precuneus.data=read.csv(paste(datapath,"PrC\\hddm_data_prec.csv",sep=""))
precuneus.data=read.csv(paste(datapath,"precuneus\\hddm_data_prec.csv",sep=""))
View(precuneus.data)
SSID=unique(prc.data$subj_idx)
View(prc.data)
i=1
prc.beta=prc.data$prc_beta[prc.data$subj_idx==SSID[i]]
precuneus.beta=precuneus.data$precuneus_beta[precuneus.data$subj_idx==SSID[i]]
#regression
m1=lm(precuneus.beta~prc.beta)
#residual
residuals[i]=resid(m1)
prec.res(i)=resid(m1)
prec.res[i]=resid(m1)
View(m1)
precuneus.data$residuals[precuneus.data$subj_idx==SSID[i]]=resid(m1)
datapath="C:\\Users\\haozi\\Desktop\\PhD\\fMRI_PrC-PPC_data\\hddm\\"
prc.data=read.csv(paste(datapath,"PrC\\hddm_data_prc.csv",sep=""))
precuneus.data=read.csv(paste(datapath,"precuneus\\hddm_data_prec.csv",sep=""))
SSID=unique(prc.data$subj_idx)
for (i in c(1:length(SSID))){
prc.beta=prc.data$prc_beta[prc.data$subj_idx==SSID[i]]
precuneus.beta=precuneus.data$precuneus_beta[precuneus.data$subj_idx==SSID[i]]
#regression
m1=lm(precuneus.beta~prc.beta)
#residual
precuneus.data$residuals[precuneus.data$subj_idx==SSID[i]]=resid(m1)
}
View(precuneus.data)
qqnorm(resid(m1))
qqline(resid(m1))
plot(density(resid(m1)))
write.csv(paste(datapath,"precuneus\\hddm_data_prec_res.csv",sep=""))
write.csv(precuneus.data,paste(datapath,"precuneus\\hddm_data_prec_res.csv",sep=""))
datapath="C:\\Users\\haozi\\Desktop\\PhD\\fMRI_PrC-PPC_data\\hddm\\"
prc.data=read.csv(paste(datapath,"PrC\\hddm_data_prc.csv",sep=""))
precuneus.data=read.csv(paste(datapath,"precuneus\\hddm_data_prec.csv",sep=""))
t.test(prc.data$prc_beta,precuneus.data$precuneus_beta)
?abs
t.test(abs(prc.data$prc_beta),abs(precuneus.data$precuneus_beta))
SSID=unique(prc.data$subj_idx)
for (i in c(1:length(SSID))){
prc.beta=prc.data$prc_beta[prc.data$subj_idx==SSID[i]]
prc.data$prc_z[prc.data$subj_idx==SSID[i]]=scale(prc.beta)#z-score
precuneus.beta=precuneus.data$precuneus_beta[precuneus.data$subj_idx==SSID[i]]
precuneus.data$precuneus_z[precuneus.data$subj_idx==SSID[i]]=scale(precuneus.beta)#z-score
#regression
m1=lm(precuneus.beta~prc.beta)
#residual
precuneus.data$residuals[precuneus.data$subj_idx==SSID[i]]=resid(m1)
#z-score regression
m2=lm(scale(precuneus.beta)~scale(prc.beta))
precuneus.data$residuals_z[precuneus.data$subj_idx==SSID[i]]=resid(m2)
}
write.csv(prc.data,paste(datapath,"PrC\\hddm_data_prc.csv",sep=""))
write.csv(precuneus.data,paste(datapath,"precuneus\\hddm_data_prec_res.csv",sep=""))
